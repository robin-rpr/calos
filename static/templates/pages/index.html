{% extends 'base.html' %}

{% block title %}
Clearly
{% endblock %}

{% block content %}
<div class="content__index">
    <div class="index__header">
        <div class="header__container">
            <img class="header__image" src="/static/images/shape-1.svg">
            <div class="header__content">
                <h1 class="content__title">
                    Stratum<span class="title__default">Default</span>
                </h1>
                <div class="content__description">
                    Machine learning / AI / Data processing / Update your project details under Settings
                </div>
            </div>
        </div>
    </div>
    <div class="index__tabs">
        <div class="tabs__container">
            <div class="container__tabs" id="tabs">
                <div class="tab__item tab__item--active" target="resources">
                    Resources
                </div>
                <div class="tab__item" target="activity">
                    Activity
                </div>
                <div class="tab__item" target="settings">
                    Settings
                </div>
            </div>
        </div>
    </div>
    <div class="index__content">
        <div class="content__container">
            <div class="container__content">
                <div class="content__panel" id="resources" aria-labelledby="tab-resources">
                    <div class="panel__title">Containers (<span id="containers-count">1</span>)</div>
                    <div class="panel__list" id="containers-list">
                        <div class="list__item">
                            <div class="item__status item__status--running"></div>
                            <img class="item__icon" src="/static/images/container.svg">
                            <div class="item__name">rocky-linux-1vcpu-512mb-10GB</div>
                            <div class="item__ip-address">10.42.21.123</div>
                            <div class="item__tags">
                                <!-- <span class="tag__item"></span> -->
                                <button class="tag__button">
                                    Add tags
                                </button>
                            </div>
                            <div class="item__actions">Upsize</div>
                            <button class="item__more">
                                <i class="fa-sharp fa-light fa-ellipsis"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    /* Tabs */
    const tabs = document.querySelectorAll('.tab__item');
    const panels = document.querySelectorAll('.content__panel');

    function switchTab(targetId) {
        if (targetId !== 'resources') {
            history.replaceState(null, null, `#${targetId}`);
        } else {
            history.replaceState(null, null, window.location.pathname);
        }

        tabs.forEach(tab => {
            tab.classList.toggle('tab__item--active', tab.getAttribute('target') === targetId);
        });

        panels.forEach(panel => {
            panel.style.display = panel.id === targetId ? 'block' : 'none';
        });
    }

    tabs.forEach(tab => {
        tab.addEventListener('click', () => switchTab(tab.getAttribute('target')));
    });

    const handleHashChange = () => switchTab(window.location.hash.slice(1) || 'resources');
    window.addEventListener('hashchange', handleHashChange);
    handleHashChange();
</script>
{% endblock %}
